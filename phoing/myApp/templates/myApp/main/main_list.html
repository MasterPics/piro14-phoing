{% extends 'myApp/layout.html' %}

{% load static %}
{% block stylesheet %}
<style>
    /*LOADING*/
#loading {
    width: 100%;
    height: 100%;
    background: #fff;
    z-index: 1000; /* 이 값으로 레이어의 위치를 조정합니다. */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-size: cover;
    font-family: "Cabin Condensed", sans-serif;
  }
  @import url(https://fonts.googleapis.com/css?family=Cabin+Condensed);
  
  svg {
    font-weight: bold;
    max-width: 600px;
    height: 100%;
  }
  
  /*CSS*/
  
  * {
    margin: 0;
    padding: 0;
    text-decoration: none;
    list-style-type: none;
    font-family: "NanumSquare", sans-serif;
  }
  
  /* nav * {
    font-family: "Noto Serif", serif;
  } */
  
  
  /**TITLE**/
  
  @import url("https://fonts.googleapis.com/css?family=Lobster&display=swap")
    repeat scroll 0 0 rgba(0, 0, 0, 0);
  
  .wrapper {
    background: url("https://images.unsplash.com/photo-1465146633011-14f8e0781093?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3450&q=80");
    color: #eee;
    width: 100%;
    height: 60vh;
    margin: 0;
    perspective: 1000px;
    perspective-origin: 50% 50%;
    animation: animation 100s linear infinite;
    padding-top: 20%;
  }
  
  @keyframes animation {
    100% {
      background-position: 0px -3000px;
    }
  }
  
  .main {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: "Quicksand", sans-serif;
    font-size: 42px;
  }
  span {
    margin: 0 15px;
    line-height: 0.7;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.45);
    animation: span 3s ease-in infinite alternate;
  }
  .letter {
    display: inline-flex;
    height: 30px;
    width: 27px;
    border: 2.6px solid rgb(255, 255, 255);
  
    border-radius: 18px;
    box-shadow: 0 0 2px rgba(255, 255, 255, 0.75),
      inset 0 0 2px rgba(255, 255, 255, 0.45);
  
    animation: letter 3s ease-in-out infinite alternate;
  }
  @keyframes span {
    0%,
    30% {
      margin: 0 15px;
    }
    70%,
    100% {
      margin: 0 5px;
    }
  }
  @keyframes letter {
    0%,
    30% {
      width: 27px;
    }
    70%,
    100% {
      width: 30vw;
    }
  }
  
  /*carousel*/
  
  .carousel__photo {
    display: grid;
    grid-template-columns: 1fr 1fr;
  }
  
  .carousel__photo div {
    padding: 5%;
  }
  
  .carousel__photo p {
    text-align: center;
    padding-bottom: 5%;
  }
  
  .about_left {
    height: 50vh;
  }
  
  .about_left .first {
    padding-bottom: 0;
    margin-top: 20%;
  }
  
  .about_right .first {
    margin-top: 20%;
  }
  
  /**/
  
  .jb {
    width: 10px;
    height: 10px;
    padding: 0;
    margin-left: 43%;
  }
  
  .jb i {
    transition: all ease 0.8s;
    color: black;
    font-size: 1.2rem;
  }
  .jb i:hover {
    transform: rotate(45deg);
    cursor: pointer;
  }
  
  /* Parent wrapper to carousel. Width can be changed as needed. */
  .carousel-wrapper {
    overflow: hidden;
    width: 98%;
    margin: auto;
  }
  
  /* Apply 'border-box' to 'box-sizing' so border and padding is included in the width and height. */
  .carousel-wrapper * {
    box-sizing: border-box;
  }
  
  /* We'll be using the 'transform' property to move the carousel's items, so setting the 'transform-style' to 'preserve-3d' will make sure our nested elements are rendered properly in the 3D space. */
  .carousel {
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
    transform-style: preserve-3d;
  }
  
  /* By default we're hiding items (except the initial one) until the JS initiates. Elements are absolutely positioned with a width of 100% (as we're styling for mobile first), letting the content's height dictate the height of the carousel. Our magic property here for all our animation needs is 'transition', taking the properties we wish to animate 'transform' and 'opacity', along with the length of time in seconds. */
  .carousel__photo {
    opacity: 0;
    position: absolute;
    top: 0;
    width: 100%;
    margin: auto;
    padding: 1rem 4rem;
    z-index: 100;
    transition: transform 0.5s, opacity 0.5s, z-index 0.5s;
  }
  
  /* Display the initial item and bring it to the front using 'z-index'. These styles also apply to the 'active' item. */
  .carousel__photo.initial,
  .carousel__photo.active {
    opacity: 1;
    position: relative;
    z-index: 900;
  }
  
  /* Set 'z-index' to sit behind our '.active' item. */
  .carousel__photo.prev,
  .carousel__photo.next {
    z-index: 800;
  }
  
  /* Translate previous item to the left */
  .carousel__photo.prev {
    transform: translateX(-100%);
  }
  
  /* Translate next item to the right */
  .carousel__photo.next {
    transform: translateX(100%);
  }
  
  /* Style navigation buttons to sit in the middle, either side of the carousel. */
  .carousel__button--prev,
  .carousel__button--next {
    position: absolute;
    top: 50%;
    width: 3rem;
    height: 3rem;
  
    transform: translateY(-50%);
    border-radius: 50%;
    cursor: pointer;
    z-index: 1001; /* Sit on top of everything */
  
    /*  opacity: 0;  Hide buttons until carousel is initialised 
      transition:opacity 1s;*/
  }
  
  .carousel__button--prev {
    left: 0;
  }
  
  .carousel__button--next {
    right: 0;
  }
  
  /* Use pseudo elements to insert arrows inside of navigation buttons */
  .carousel__button--prev::after,
  .carousel__button--next::after {
    content: " ";
    position: absolute;
    width: 10px;
    height: 10px;
    top: 50%;
    left: 54%;
    border-right: 2px solid black;
    border-bottom: 2px solid black;
    transform: translate(-50%, -50%) rotate(135deg);
  }
  
  .carousel__button--next::after {
    left: 47%;
    transform: translate(-50%, -50%) rotate(-45deg);
  }
  
  /**/
  
  * {
    scroll-behavior: smooth;
  }
  
</style>
{% endblock stylesheet %}

{% block content %}

<!-- <div id="loading">
        <svg viewbox="0 0 100 20">
            <defs>
                <linearGradient id="gradient">
                <stop color="#000"/>
                </linearGradient>
                <pattern id="wave" x="0" y="-0.5" width="100%" height="100%" patternUnits="userSpaceOnUse">
                <path id="wavePath" d="M-40 9 Q-30 7 -20 9 T0 9 T20 9 T40 9 T60 9 T80 9 T100 9 T120 9 V20 H-40z" mask="url(#mask)" fill="url(#gradient)"> 
                    <animateTransform
                        attributeName="transform"
                        begin="0s"
                        dur="1.5s"
                        type="translate"
                        from="0,0"
                        to="40,0"
                        repeatCount="indefinite" />
                </path>
                </pattern>
            </defs>
            <text text-anchor="middle" x="50" y="15" font-size="14" fill="white" fill-opacity="0.1">LOADING</text>
            <text text-anchor="middle" x="50" y="15" font-size="14" fill="url(#wave)"  fill-opacity="1">LOADING</text>
            </svg>  
    </div> -->


<!-- header -->
<div class="wrapper">
    <div class="main">
        <span>P</span>
        <span>H</span>
        <a href="#header"><span class="letter"></span></a>
        <span>I</span>
        <span>N</span>
        <span>G</span>
    </div>
    <div style="margin-top:20px; text-align:center;  font-size:smaller ">SINCE 2021</div>
</div>

<div id="header" class="carousel-wrapper">
    <div class="carousel">

      <div class="carousel__photo initial">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">ABOUT US</p>
            <div class="jb"><i class="fas fa-square-full"><a href="#"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">개인작업을 위한 컨택트 및 포트폴리오 웹사이트 </p>
            <p style="font-size:0.8rem;">contact for portfolio, portfolio for contact</p>
            <p>포잉은 상호무페이를 권장하며, 개인작업을 통한 아티스트들 간의 <br> 성장 과정을 함께하는 것을 목표로 합니다.</p>
        </div>
      </div>

      <div class="carousel__photo">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">CONTACT</p>
            <div class="jb"><i class="fas fa-square-full"><a href="{% url 'myApp:contact_list' %}"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">사진 및 영상작업을 위한 시안 기반의 컨택트</p>
            <p style="font-size:0.8rem;">with photographer, model, hair&makeup, stylist</p>
        </div>
      </div>

      <div class="carousel__photo">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">PORTFOLIO</p>
            <div class="jb"><i class="fas fa-square-full"><a href="{% url 'myApp:portfolio_list' category='all' %}"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">다양한 아티스트들과 당신의 작업물을 공유해보세요 </p>
            <p style="font-size:0.8rem;">share your portfolio</p>
        </div>
      </div>

      <div class="carousel__photo">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">REFERENCE</p>
            <div class="jb"><i class="fas fa-square-full"><a href="#"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">다양한 키워드의 시안 레퍼런스를 통해 영감을 얻어보세요</p>
            <p style="font-size:0.8rem;">for your creative inspiration</p>
        </div>
      </div>

      <div class="carousel__photo">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">PLACE</p>
            <div class="jb"><i class="fas fa-square-full"><a href="#"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">원하는 무드의 키워드로 색다른 촬영 공간을 탐색해보세요</p>
            <p style="font-size:0.8rem;">whatever you want ##</p>
        </div>
      </div>


      <div class="carousel__photo">
        <div class="about_left">
            <p class="first" style="font-size:2rem; ">COLLABORATION</p>
            <div class="jb"><i class="fas fa-square-full"><a href="#"></a></i></div>
        </div>
        <div class="about_right">
            <p class="first" style="padding-bottom: 1%;">기타 예술분야의 아티스트, 브랜드 및 일반인들과의 콜라보레이션</p>
            <p style="font-size:0.8rem;">for passionate artists</p>
        </div>
      </div>


      <div class="carousel__button--next"></div>
      <div class="carousel__button--prev"></div>

    </div>
</div>

<!-- random template -->

<div style="margin: 5%; ">
    <img style="width:20%" src="https://i.pinimg.com/474x/01/d4/a5/01d4a5c579c583db98c77169d49affbe.jpg">
</div>

<div style="position:absolute; top:200vh; left:10px; writing-mode:vertical-rl; font-size:smaller">
    recommendation
    collage
</div>



<script>
    //LOADING

// window.onbeforeunload = function () { $('#loading').show(); }  //현재 페이지에서 다른 페이지로 넘어갈 때 표시해주는 기능
// $(window).load(function () {          //페이지가 로드 되면 로딩 화면을 없애주는 것
//     $('#loading').hide();
// });


//NAV

const toggleBtn = document.querySelector('.nav__toggleBtn');
const menu = document.querySelector('.nav__menu');
const profile = document.querySelector('.nav__profile');
toggleBtn.addEventListener('click', ()=>{
    menu.classList.toggle('active')
    profile.classList.toggle('active')
});




//CAROUSEL

!(function(d){
    // Variables to target our base class,  get carousel items, count how many carousel items there are, set the slide to 0 (which is the number that tells us the frame we're on), and set motion to true which disables interactivity.
    var itemClassName = "carousel__photo";
        items = d.getElementsByClassName(itemClassName),
        totalItems = items.length,
        slide = 0,
        moving = true; 
  
    // To initialize the carousel we'll want to update the DOM with our own classes
    function setInitialClasses() {
  
      // Target the last, initial, and next items and give them the relevant class.
      // This assumes there are three or more items.
      items[totalItems - 1].classList.add("prev");
      items[0].classList.add("active");
      items[1].classList.add("next");
    }
  
    // Set click events to navigation buttons
  
    function setEventListeners() {
      var next = d.getElementsByClassName('carousel__button--next')[0],
          prev = d.getElementsByClassName('carousel__button--prev')[0];
  
      next.addEventListener('click', moveNext);
      prev.addEventListener('click', movePrev);
    }
  
    // Disable interaction by setting 'moving' to true for the same duration as our transition (0.5s = 500ms)
    function disableInteraction() {
      moving = true;
  
      setTimeout(function(){
        moving = false
      }, 500);
    }
  
    function moveCarouselTo(slide) {
  
      // Check if carousel is moving, if not, allow interaction
      if(!moving) {
  
        // temporarily disable interactivity
        disableInteraction();
  
        // Preemptively set variables for the current next and previous slide, as well as the potential next or previous slide.
        var newPrevious = slide - 1,
            newNext = slide + 1,
            oldPrevious = slide - 2,
            oldNext = slide + 2;
  
        // Test if carousel has more than three items
        if ((totalItems - 1) > 3) {
  
          // Checks if the new potential slide is out of bounds and sets slide numbers
          if (newPrevious <= 0) {
            oldPrevious = (totalItems - 1);
          } else if (newNext >= (totalItems - 1)){
            oldNext = 0;
          }
  
          // Check if current slide is at the beginning or end and sets slide numbers
          if (slide === 0) {
            newPrevious = (totalItems - 1);
            oldPrevious = (totalItems - 2);
            oldNext = (slide + 1);
          } else if (slide === (totalItems -1)) {
            newPrevious = (slide - 1);
            newNext = 0;
            oldNext = 1;
          }
  
          // Now we've worked out where we are and where we're going, by adding and removing classes, we'll be triggering the carousel's transitions.
  
          // Based on the current slide, reset to default classes.
          items[oldPrevious].className = itemClassName;
          items[oldNext].className = itemClassName;
  
          // Add the new classes
          items[newPrevious].className = itemClassName + " prev";
          items[slide].className = itemClassName + " active";
          items[newNext].className = itemClassName + " next";
        }
      }
    }
  
    // Next navigation handler
    function moveNext() {
  
      // Check if moving
      if (!moving) {
  
        // If it's the last slide, reset to 0, else +1
        if (slide === (totalItems - 1)) {
          slide = 0;
        } else {
          slide++;
        }
  
        // Move carousel to updated slide
        moveCarouselTo(slide);
      }
    }
  
    // Previous navigation handler
    function movePrev() {
  
      // Check if moving
      if (!moving) {
  
        // If it's the first slide, set as the last slide, else -1
        if (slide === 0) {
          slide = (totalItems - 1);
        } else {
          slide--;
        }
  
        // Move carousel to updated slide
        moveCarouselTo(slide);
      }
    }
  
    // Initialize carousel
    function initCarousel() {
      setInitialClasses();
      setEventListeners();
  
      // Set moving to false now that the carousel is ready
      moving = false;
    }
  
    // make it rain
    initCarousel();
  
  }(document));





  //
</script>
{% endblock content%}